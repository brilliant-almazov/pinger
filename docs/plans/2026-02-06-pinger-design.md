# Pinger โ macOS Menu Bar Utility

## ะะฑะทะพั

ะฃัะธะปะธัะฐ ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะธะฝัะตัะฝะตั-ัะพะตะดะธะฝะตะฝะธั ัะตัะตะท menu bar ะฝะฐ macOS. ะะฐะผะตะฝัะตั ะฝะตะพะฑัะพะดะธะผะพััั ะดะตัะถะฐัั ะพัะบััััะผ `ping 8.8.8.8` ะฒ ัะตัะผะธะฝะฐะปะต.

## ะขะตัะฝะพะปะพะณะธะธ

- Swift 5.9+
- SwiftUI ะดะปั UI
- Combine ะดะปั ัะตะฐะบัะธะฒะฝะพััะธ
- Network framework / SimplePing ะดะปั ICMP

## ะััะธัะตะบัััะฐ

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั

- `PingService` โ ะฒัะฟะพะปะฝัะตั ะฟะธะฝะณะธ ั ะทะฐะดะฐะฝะฝัะผ ะธะฝัะตัะฒะฐะปะพะผ
- `PingTarget` (ะฟัะพัะพะบะพะป) โ ะฐะฑัััะฐะบัะธั ะดะปั ะธััะพัะฝะธะบะฐ ะฟะธะฝะณะฐ
- `HistoryStore` โ ััะฐะฝะธั ะธััะพัะธั ัะตะทัะปััะฐัะพะฒ
- `SettingsStore` โ ะฝะฐัััะพะนะบะธ ะฒ UserDefaults
- `NotificationManager` โ ัะธััะตะผะฝัะต ัะฒะตะดะพะผะปะตะฝะธั
- `MenuBarView` โ ะพัะพะฑัะฐะถะตะฝะธะต ะฒ menu bar
- `DropdownView` โ ะฒัะฟะฐะดะฐััะตะต ะผะตะฝั
- `SettingsView` โ ะพะบะฝะพ ะฝะฐัััะพะตะบ

## UI

### Menu Bar (ะฟะพััะพัะฝะฝะพ ะฒะธะดะฝะพ)

```
๐ข 14ms   โ ะฒัั ัะพัะพัะพ (ััะตะดะฝะธะน ping ะฟะพ ะธััะพัะฝะธะบะฐะผ)
๐ก 150ms  โ ะฒััะพะบะธะน ping (ะฒััะต ะฟะพัะพะณะฐ)
๐ด ---    โ ะฝะตั ัะพะตะดะธะฝะตะฝะธั
โธ ---    โ ะฝะฐ ะฟะฐัะทะต
```

### Dropdown ะผะตะฝั (ะฟะพ ะบะปะธะบั)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ะกัะตะดะฝะธะน: 14ms                      โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  8.8.8.8       ๐ข 12ms              โ
โ  1.1.1.1       ๐ข 16ms              โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  ะััะพัะธั: 14 12 15 13 11 ...        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โ  โธ ะะฐัะทะฐ                           โ
โ  โ ะะฐัััะพะนะบะธ...                    โ
โ  ะััะพะด                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะบะฝะพ ะฝะฐัััะพะตะบ

**ะััะพัะฝะธะบะธ ะดะปั ะฟะธะฝะณะฐ:**
- ะกะฟะธัะพะบ ะฐะดัะตัะพะฒ ั ัะตะบะฑะพะบัะฐะผะธ (ะฒะบะป/ะฒัะบะป)
- ะัะตะดัััะฐะฝะพะฒะปะตะฝะฝัะต: 8.8.8.8 (Google), 1.1.1.1 (Cloudflare)
- ะะพะทะผะพะถะฝะพััั ะดะพะฑะฐะฒะธัั ัะฒะพะน ะฐะดัะตั

**ะะฐัะฐะผะตััั:**
- ะะฝัะตัะฒะฐะป ะฟะธะฝะณะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั: 1 ัะตะบ)
- ะะพัะพะณ "ะฟะปะพัะพะณะพ" ะฟะธะฝะณะฐ (ะฟะพ ัะผะพะปัะฐะฝะธั: 100ms)
- ะะฐะฟััะบะฐัั ะฟัะธ ะปะพะณะธะฝะต
- ะฃะฒะตะดะพะผะปะตะฝะธั ะฟัะธ ะฟะพัะตัะต/ะฒะพัััะฐะฝะพะฒะปะตะฝะธะธ ัะพะตะดะธะฝะตะฝะธั

## ะะพะณะธะบะฐ ััะฐัััะฐ

- ๐ข ะะตะปัะฝัะน โ ะฒัะต ะธััะพัะฝะธะบะธ ะพัะฒะตัะฐัั, ััะตะดะฝะธะน ping ะฝะธะถะต ะฟะพัะพะณะฐ
- ๐ก ะัะปััะน โ ะฒัะต ะพัะฒะตัะฐัั, ััะตะดะฝะธะน ping ะฒััะต ะฟะพัะพะณะฐ
- ๐ด ะัะฐัะฝัะน โ ัะพัั ะฑั ะพะดะธะฝ ะธััะพัะฝะธะบ ะฝะต ะพัะฒะตัะฐะตั

## ะฅัะฐะฝะตะฝะธะต ะดะฐะฝะฝัั

- **ะะฐัััะพะนะบะธ:** UserDefaults
- **ะััะพัะธั:** ะฒ ะฟะฐะผััะธ (ะฟะพัะปะตะดะฝะธะต N ะทะฐะฟะธัะตะน), ะพะฟัะธะพะฝะฐะปัะฝะพ ัะฐะนะป/SQLite ะดะปั ะดะปะธัะตะปัะฝะพะณะพ ััะฐะฝะตะฝะธั

## ะะฐััะธััะตะผะพััั (ะทะฐะปะพะถะธัั ะฒ ะฐััะธัะตะบัััั)

- ะัะพัะพะบะพะป `PingTarget` ะดะปั ะดะพะฑะฐะฒะปะตะฝะธั ะฝะพะฒัั ัะธะฟะพะฒ ะฟัะพะฒะตัะพะบ
- ะะพะดัะปัะฝะฐั ััััะบัััะฐ ะดะปั ะปัะณะบะพะณะพ ะดะพะฑะฐะฒะปะตะฝะธั ัะธั
- ะะพะดะณะพัะพะฒะบะฐ ะบ ัะบัะฟะพััั ะปะพะณะพะฒ
- ะะพะดะณะพัะพะฒะบะฐ ะบ ััะฐัะธััะธะบะต (ััะตะดะฝะธะน ping, % ะฟะพัะตัั, uptime)

## ะขะตััะธัะพะฒะฐะฝะธะต

### Unit Tests

- `PingServiceTests` โ ะปะพะณะธะบะฐ ะฟะธะฝะณะฐ, ะพะฑัะฐะฑะพัะบะฐ ัะฐะนะผะฐััะพะฒ, ัะฐัััั ััะตะดะฝะตะณะพ
- `HistoryStoreTests` โ ะดะพะฑะฐะฒะปะตะฝะธะต ะทะฐะฟะธัะตะน, ะปะธะผะธั ะธััะพัะธะธ, ะพัะธััะบะฐ
- `SettingsStoreTests` โ ัะพััะฐะฝะตะฝะธะต/ะทะฐะณััะทะบะฐ ะฝะฐัััะพะตะบ, ะฒะฐะปะธะดะฐัะธั
- `StatusCalculatorTests` โ ะพะฟัะตะดะตะปะตะฝะธะต ััะฐัััะฐ (๐ข/๐ก/๐ด) ะฟะพ ัะตะทัะปััะฐัะฐะผ

### Integration Tests

- ะะธะฝะณ ัะตะฐะปัะฝะพะณะพ ะฐะดัะตัะฐ (8.8.8.8)
- ะะฑัะฐะฑะพัะบะฐ ะฝะตะดะพัััะฟะฝะพะณะพ ะฐะดัะตัะฐ
- ะะพััะตะบัะฝะฐั ัะฐะฑะพัะฐ ั ะฝะตัะบะพะปัะบะธะผะธ ะธััะพัะฝะธะบะฐะผะธ

### UI Tests

- ะัะพะฑัะฐะถะตะฝะธะต ััะฐัััะฐ ะฒ menu bar
- ะัะบัััะธะต/ะทะฐะบัััะธะต dropdown
- ะะทะผะตะฝะตะฝะธะต ะฝะฐัััะพะตะบ
- ะะฐัะทะฐ/ะฟัะพะดะพะปะถะตะฝะธะต

### ะะพะดัะพะด

- XCTest ะดะปั unit ะธ integration ัะตััะพะฒ
- XCUITest ะดะปั UI ัะตััะพะฒ
- ะะพะบะธ ะดะปั ัะตัะตะฒะพะณะพ ัะปะพั ะฒ unit ัะตััะฐั
- ะขะตััั ะฟะธััััั ะฟะฐัะฐะปะปะตะปัะฝะพ ั ะบะพะดะพะผ (TDD ะณะดะต ัะผะตััะฝะพ)

## MVP (ะฟะตัะฒะฐั ะฒะตััะธั)

1. Menu bar ั ะธะบะพะฝะบะพะน + ััะตะดะฝะธะน ping
2. Dropdown ั ะดะตัะฐะปะธะทะฐัะธะตะน ะฟะพ ะธััะพัะฝะธะบะฐะผ
3. ะะฐัะทะฐ/ะฟัะพะดะพะปะถะธัั
4. ะะฐัััะพะนะบะธ: ะธััะพัะฝะธะบะธ, ะธะฝัะตัะฒะฐะป, ะฟะพัะพะณ
5. ะะดะฐะฟัะฐัะธั ะบ ัะฒะตัะปะพะน/ััะผะฝะพะน ัะตะผะต
6. Unit ัะตััั ะดะปั core ะปะพะณะธะบะธ

## ะัะดััะธะต ัะธัะธ

- Launch at Login
- ะฃะฒะตะดะพะผะปะตะฝะธั
- ะกัะฐัะธััะธะบะฐ ะธ ะณัะฐัะธะบะธ
- ะญะบัะฟะพัั ะปะพะณะพะฒ
- ะะฒัะบะพะฒัะต ัะธะณะฝะฐะปั
